# もっと黄色い本輪読ゼミ 第8回（第8章）

2021/12/19(Sun.) 21:00〜 ＠Online 東大TeX愛好会（担当：Yuta Mizuno, @xsmz2000）

## 8.1 数式の基本

### 8.1.1 インライン数式とディスプレイ数式(sec8_sample1.tex)

- インライン数式：文中に出てくる数式で，別行立てではない
- ディスプレイ数式：別行立ての数式。$$と$$で囲ったものは現在は推奨されていない

### 8.1.2 数式中の文字

特殊文字などを除いて，そのまま使用できる。

#### 空白に関して(sec8_sample2.tex)

Control Sequenceの一部ではない空白文字は無視される。そのため，明示的に空白を指定する必要がある。

- `\␣`，`\hspace`，`\phantom`，`\hphantom`　など，数式外で使用できる命令を使用する。
- `\>`，`\:`，`\!` などの数式専用の命令を利用する。なお，amsmathを使用することでこれらを数式外で使用することが可能になる（数式外では伸縮しないグルーとなる）。入れないとMisssing $ inseerted のエラーをはく。（詳細なグルーの入れ方は本を参照）

#### 部分数式

数式中では，\\{\\}で囲った部分は部分数式として認識され，インラインでありながら行分割が行われない。`\makebox` と何が違うのか気になります。



### 8.1.3 　　添字

- 下添え字と上添え字がある。また，`_` の代わりに`\sb`，`^`の代わりに`\sp`を使用することも可能である。
- その他，注意点があるので注意する。

### 8.1.4 分数

分数は，基本は`\frac`というコマンドを利用する。amsmathでは，常にディスプレイスタイルの数式を出力する`\dfrac`と，常にインライン数式を出力する`\tfrac`が用意されている。連分数のために，`\cfrac`というコマンドも用意されている。

emathパッケージ(TL2021には入っていない！)は，分数をより綺麗に表示するための機構が備わっている。


### 8.1.5 根号

`\sqrt`コマンドが用意されている。

## 8.2 各種の数式用記号

数式で用いられる記号には多種多様なものがあり，和文文字も存在する。ただし，和文文字は通常の文字として扱われるため，空白の入り方などがおかしい。必要であれば，`\mbox`に入れておく必要がある。

以下，数式用の記号たちについてはさすがに省略します。いくつか補足だけ入れます。

- 8.2.8 省略記号

    -`\cdots`と`\ldots`の使い分けが難しい。前者は演算子（+とか）の間で用い，後者はそれ以外の場面で用います。
    - これを自動判断する命令として，`\dots`が挙げられる。ただし，これは後ろの文字を見て自動判断している（そもそも前はTeXは読めないので），だから無限級数など後ろに文字がない場合は判断不可。


```math
x_1 + x_2 + \cdot x_n
```

<!---
```TeX
$x_1 + x_2 + \cdot x_n$
```
--->


## 8.3 数式での文字の装飾・数式スタイル

さまざまなスタイルがある。こちらも補足形式で紹介します。

- 8.3.2 下線類

`\underline`などの命令は確かに便利であるが，改行などに非対応。uline--パッケージ，ulemパッケージなどの使用が推奨される。

- 8.3.3 数式のスタイル(sec8_sample3.tex)

    数式には４つのスタイルがある。

    - ディスプレイスタイル

    - テキストスタイル

    - スクリプトスタイル

    - スクリプトスクリプトスタイル


## 8.4 行列

### 8.4.1 LaTeXの用意する環境

行列を用いるのに，LaTeXではarray環境が用意されている。記法はほぼtabularと同じ。

### 8.4.2 amsmathの提供する環境

記法などによって，さまざまなmatrix環境が用意されている。

## 8.5 ディスプレイ数式

### 8.5.1 LaTeX自身が提供するもの

数式番号の有無，および行数によって用意されている環境が異なる。なお，数式番号の記法については各種スタイルファイルの設定に依存する。

- 番号なし，１行……`\[ \]`やdisplaymath

- 番号あり，１行……equation

- 番号なし，複数行……eqnarray*

- 番号あり，複数行……eqnarray

複数行の場合は，arrayと同様に`&`を使用できる。ただし，１行あたり２つまでという制限がある。

### 8.5.2 amsmathが提供するもの

いろいろあります。

### 8.5.3 数式番号のカスタマイズ

equationでカウントされている，出力は`\theequation`。これらをいじることでカスタマイズが可能である。
